<table mat-table [dataSource]="dataSource">
  <ng-container [matColumnDef]="meta.field" *ngFor="let meta of metadata">
    <th mat-header-cell *matHeaderCellDef>{{ meta.label }}</th>
    <td mat-cell *matCellDef="let row">
      {{ row[meta.field] }}
    </td>
  </ng-container>

  <!-- <ng-container matColumnDef="details">
    <td mat-cell *matCellDef="let row">
      <table>
        <thead>
          <tr>
            <th *ngFor="let sub of subMetadata">{{ sub.label }}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td *ngFor="let sub of subMetadata">{{ row[sub.field] }}</td>
          </tr>
        </tbody>
      </table>
    </td>
  </ng-container> -->

  <!--   <ng-container matColumnDef="lastname">
    <th mat-header-cell *matHeaderCellDef>Lastname</th>
    <td mat-cell *matCellDef="let row">{{ row.lastname }}</td>
  </ng-container>

  <ng-container matColumnDef="age">
    <th mat-header-cell *matHeaderCellDef>Age</th>
    <td mat-cell *matCellDef="let row">{{ row.age }}</td>
  </ng-container> -->

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  <!--   <tr
    mat-row
    *matRowDef="let row; columns: displayedSubColumns"
    class="spotlight"
  ></tr> -->
</table>
